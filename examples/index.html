<p id="preview"></p>
<script type="module">
let params = new URLSearchParams(document.location.search);
    var preview = document.getElementById("preview")
    var text
    preview.innerHTML="loading "+params.get("p")+"..."
    await sleep(500)
    fetch(params.get("p"))
    .then(response => response.text())
    .then((data) => {
        text=(data)
        init()
    }).catch(error =>{
        preview.innerHTML=error

    })
    function init(){
        preview.innerHTML=text.replaceAll("<","&lt").replaceAll("\n", "<br>")
    }

    function sleep(ms){
        return new Promise(resolve => setTimeout(resolve, ms));
    }
</script>